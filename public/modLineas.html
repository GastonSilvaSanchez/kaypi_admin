<!DOCTYPE html>
<html lang="es">
    <head>
	<title>KAYPI-ADMIN</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <link href="//maxcdn.bootstrapcdn.com/bootstrap/5.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
		<link rel="stylesheet" href="css/tw.css" />
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/5.0.0/js/bootstrap.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Yanone+Kaffeesatz&display=swap" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    </head>
    <body id="page-top">
	
        
		<div class="container register-form">
            <div class="row g-3">
                <div class="note">
                    <p>Modificar Lineas</p>
                </div>
				<div class="row g-3">
					<div class="col-auto">
						<button onclick="goBack()" class="btn btn-primary btn-lg">Atras</button>
					</div>
					<div class="col-auto">
						<form action="/" method="get">
							<input type="submit" name="submit" class="btn btn-primary btn-lg" value="Inicio">
						  </form>
					</div>
                    <div class="col-auto">
                      <form action="/logout" method="get">
                        <input type="submit" name="submit" class="btn btn-danger btn-lg" value="Cerrar Sesion">
                      </form>
                    </div>
					<div class="col-auto">
						<form action="/listaLineas" method="get">
							<input type="submit" name="submit" class="btn btn-primary btn-lg" value="Ver Lista">
						</form>
					</div>
                   
					<div class="row g-3">
						<label class="text-control" for="cantidadPuntos">Cambie la cantidad de puntos de las ruta de ida si requiere modificar:</label>
						<input type="number" class="form-control" name="cantidadPunto1" id="cantidadPunto1" min="2" max="500">
						<label class="text-control" for="cantidadPuntos">Cambie la cantidad de puntos de las ruta de vuelta si requiere modificar:</label>
						<input type="number" class="form-control" name="cantidadPunto2" id="cantidadPunto2" min="2" max="500">
						<!--<button onclick="RecargarForm()" class="btn btn-primary btn-lg">Cargar los campos para añadir cordenadas para modificar o agregar puntos </button>-->
						<button onclick="RecargarForm()" id="btnLoadLines" class="btn btn-primary btn-lg">Cargar nuevos puntos para las lineas de transporte </button>
						</div>
					<div id="cargar">

					</div>
				</div>	
				<div id="alltodos"></div>
			<!-- Form-->
			
        </div>	
 	
    </body>
	
	<script>
	// Example starter JavaScript for disabling form submissions if there are invalid fields
	(function() {
	  'use strict';
	  window.addEventListener('load', function() {
		// Fetch all the forms we want to apply custom Bootstrap validation styles to
		var forms = document.getElementsByClassName('needs-validation');
		// Loop over them and prevent submission
		var validation = Array.prototype.filter.call(forms, function(form) {
		  form.addEventListener('submit', function(event) {
			if (form.checkValidity() === false) {
			  event.preventDefault();
			  event.stopPropagation();
			}
			form.classList.add('was-validated');
		  }, false);
		});
	  }, false);
	})();
	</script>
</html>

<script type="text/javascript">
function getParameterByName(name) {
    name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
    var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
    results = regex.exec(location.search);
    return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}
var _idVar = getParameterByName('_id');


</script>

<script type="text/javascript">
	var auxIda =0,
	 auxVuelta =0;

	 var todoObj;;
	window.addEventListener('DOMContentLoaded', (e) =>{
	fetch('http://localhost:3000/listLineas')
	.then(res => res.json())
	.then(data =>{
		if(data.response === 'success'){
			const todos = data.data; 
			var num = 1;
			
			todos.forEach(todo =>{
				if(todo._id==_idVar){
					auxIda= todo.Rutas[0].Puntos.length;
					auxVuelta= todo.Rutas[1].Puntos.length;
					document.getElementById('cantidadPunto1').value=auxIda;
	                document.getElementById('cantidadPunto2').value=auxVuelta;
					todoObj=todo;
					console.log(todoObj);
					var cantIda = document.getElementById('cantidadPunto1').value;
				    var cantVuelta = document.getElementById('cantidadPunto2').value;
			     	
					document.querySelector('#alltodos').innerHTML += `
					<form action="/modificarLinea" method="post" id="formPrincipal" class="form-content" visibility="hidden">
						<input name="_id" id="_id" value="${_idVar}" hidden>
				<input type="text" name="_id1" class="form-control" name="_id1" value=${_idVar} disabled>
				<label class="text-control" for="validationDefault01">Nombre de Linea:</label>
				  <div class="form-group">
					  <input type="text" name="nombre" class="form-control" id="validationDefault01" placeholder="Ingresar Linea + numero o letra de la linea *" value="${todo.Nombre}" required>
					</div>
				<label class="text-control" for="validationDefault02">Categoria:</label>
					<div class="form-group">
					  <input type="text" name="categoria" list="cat" class="form-control" id="validationDefault02" placeholder="Ingresar Categoria Aqui" value="${todo.Categoria}" required>
					  <datalist id="cat">
						<option value="Micro">
						<option value="Minibus">
						<option value="Taxitrufi">
					  </datalist>
					</div>					
				<label class="text-control" for="validationDefault04">Zona:</label>
					<div class="form-group">
					  <input type="text" name="zona" class="form-control" id="validationDefault04" placeholder="Ingresar Zona Aqui" value="${todo.ZonasCBBA[0]}" required>
					</div>
					<label class="text-control" for="validationDefault05">Pasajes:</label>
					<div class="form-group">
					  <input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Mayores Aqui *" value="${todo.Pasajes[0]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Discapacidad Aqui *" value="${todo.Pasajes[1]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Universitario Aqui *" value="${todo.Pasajes[2]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Estudiantes Aqui *" value="${todo.Pasajes[3]}" required>
					</div>
					<label class="text-control" for="validationDefault06">Calles:</label>
					<div class="form-group">
					  <input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 1 Aqui *" value="${todo.Calles[0]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 2(Opcional) Aqui *" value="${todo.Calles[1]}">
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 3(Opcional) Aqui *" value="${todo.Calles[2]}">
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 4(Opcional) Aqui *" value="${todo.Calles[3]}">
					</div>
					<label class="text-control" for="validationDefault07">Telefonos:</label>
					<div class="form-group">
					  <input type="text" name="telefono" class="form-control" id="validationDefault07" placeholder="Ingresar Telefono(Opcional) Aqui *" value="${todo.Telefonos[0]}" >
					</div>
					<div class="form-group">
						<input type="text" name="telefono" class="form-control" id="validationDefault07" placeholder="Ingresar Telefono(Opcional) Aqui *" value="${todo.Telefonos[1]}" >
					</div>
					<label class="text-control" for="validationDefault08">Horario:</label>
					<div class="form-group">
					  <input type="text" name="horario" class="form-control" id="validationDefault08" placeholder="Ingresar Horario Aqui *" value="${todo.Horarios}" required>
					</div>
					<br>
					<hr>
					<br>
					<h3>Rutas:</h3>
					<br>
					<div class="row g-3 align-items-center">
						<div class="col-auto">
							<a id="boton link" target="_blank"  class="form-control btn btn-primary" href='https://www.google.com.bo/maps'"> 
								<h6>Entrar a Google Maps</h6>
						   </a>
						   </div>
						   <div class="col-auto">
							<span id="passwordHelpInline" class="form-text">
								Usa este link para copiar y cambiar las cordenadas de la lista
							</span>
						  </div>
						  <div class="col-auto"></div>
					</div>
				   <br>
				   <h3>Ruta Ida</h3>
				   <br>
					<div class="form-group">
						<div class="input-group mb-3">
							<span class="input-group-text" id="sentido">Sentido</span>
							<input type="text" name="ruta1" class="form-control" aria-describedby="sentido" id="validationDefault09" placeholder="Ingresar el sentido ruta de ida aqui" value="${todo.Rutas[0].Sentido}" required>
							
						</div>
						<div class="form-text">Añade un sentido de ruta como: NORTE-SUR.</div>
						<br>
						<input type="hidden" name="color1" value="rojo">
						<div id="cantidadIda">
					
						</div>
						<div id="cantPuntosIda1">
					
						</div>
						<div id="cantPuntosIda2">
					
				        </div>
					</div>
					
					<br>
					<hr>
					<br>
					<h3>Ruta Vuelta</h3>
					<br>
					<div class="form-group">
						<div class="input-group mb-3">
							<span class="input-group-text" id="sentido">Sentido</span>
							<input type="text" name="ruta2" aria-describedby="sentido" class="form-control" id="validationDefault10" placeholder="Ingresar el sentido ruta de vuelta aqui" value="${todo.Rutas[1].Sentido}" required>
							
						</div>
						<div class="form-text">Añade un sentido de ruta contrario a la ruta de ida como: SUR-NORTE.</div>
						<br>
						<input type="hidden" name="color2" value="azul">
						<div id="cantidadVuelta">
					
						</div>
						<div id="cantPuntosVuelta1">
					
						</div>
						<div id="cantPuntosVuelta2">
					
			        	</div>
					</div>
					
					
					<br />
				<input class="btnSubmit" type="submit" value="Modificar">
			</form>
				 `;
				 document.querySelector('#cantidadIda').innerHTML += `
				    <input type="hidden" name="cantIda" value="${cantIda}">
				    `;
			    	document.querySelector('#cantidadVuelta').innerHTML += `
				    <input type="hidden" name="cantVuelta" value="${cantVuelta}">
				    `;
					if(cantIda>0 && auxIda>0){
					for (let index = 0; index < auxIda; index++) {
						document.querySelector('#cantPuntosIda1').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat1">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat1" id="lat1" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[0].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng1">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng1" name="lng1" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[0].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;			
					}
					for (let index = auxIda; index < cantIda; index++) {
						document.querySelector('#cantPuntosIda2').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat1">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat1" id="lat1" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[0].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng1">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng1" name="lng1" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[0].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;			
					}
				}
                if(cantVuelta>0 && auxVuelta>0){
					for (let index = 0; index < auxVuelta; index++) {
						document.querySelector('#cantPuntosVuelta1').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat2">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat2" id="lat2" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[1].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat">
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng2">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng2" name="lng2" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[1].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng">
									</div>
								</div>
					</div>
				`;			
					}
					for (let index = auxVuelta; index < cantVuelta; index++) {
						document.querySelector('#cantPuntosVuelta2').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat2">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat2" id="lat2" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[1].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat">
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng2">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng2" name="lng2" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[1].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng">
									</div>
								</div>
					</div>
				`;		
					
				}
			}




			    }
			
				num++;
			});
		} else alert(data.response);
		
	})
	.catch(err => console.error(err));
  });
  	  </script>
	  	<script>
			function HabilitarForm() {
				var form  = document.getElementById("formPrincipal");
				var allElements = form.elements;
				for (var i = 0, l = allElements.length; i < l; ++i) {
				 // allElements[i].readOnly = true;
				 allElements[i].disabled=false;
				}
			}
			function RecargarForm() {
				
				var todo= todoObj;
				 cantIda = document.getElementById('cantidadPunto1').value;
				 cantVuelta = document.getElementById('cantidadPunto2').value;
				document.querySelector('#alltodos').replaceWith += `
					<form action="/guardarLinea" method="post" id="formPrincipal" class="form-content" visibility="hidden">
				<input type="text" name="_id" class="form-control" name="_id" value=${_idVar} disabled>
				<label class="text-control" for="validationDefault01">Nombre de Linea:</label>
				  <div class="form-group">
					  <input type="text" name="nombre" class="form-control" id="validationDefault01" placeholder="Ingresar Linea + numero o letra de la linea *" value="${todo.Nombre}" required>
					</div>
				<label class="text-control" for="validationDefault02">Categoria:</label>
					<div class="form-group">
					  <input type="text" name="categoria" list="cat" class="form-control" id="validationDefault02" placeholder="Ingresar Categoria Aqui" value="${todo.Categoria}" required>
					  <datalist id="cat">
						<option value="Micro">
						<option value="Minibus">
						<option value="Taxitrufi">
					  </datalist>
					</div>					
				<label class="text-control" for="validationDefault04">Zona:</label>
					<div class="form-group">
					  <input type="text" name="zona" class="form-control" id="validationDefault04" placeholder="Ingresar Zona Aqui" value="${todo.ZonaCBBA}" required>
					</div>
					<label class="text-control" for="validationDefault05">Pasajes:</label>
					<div class="form-group">
					  <input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Mayores Aqui *" value="${todo.Pasajes[0]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Discapacidad Aqui *" value="${todo.Pasajes[1]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Universitario Aqui *" value="${todo.Pasajes[2]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="pasaje" class="form-control" id="validationDefault05" placeholder="Ingresar Pasaje + Estudiantes Aqui *" value="${todo.Pasajes[3]}" required>
					</div>
					<label class="text-control" for="validationDefault06">Calles:</label>
					<div class="form-group">
					  <input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 1 Aqui *" value="${todo.Calles[0]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 2(Opcional) Aqui *" value="${todo.Calles[1]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 3(Opcional) Aqui *" value="${todo.Calles[2]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="calle" class="form-control" id="validationDefault06" placeholder="Ingresar Calle 4(Opcional) Aqui *" value="${todo.Calles[3]}" required>
					</div>
					<label class="text-control" for="validationDefault07">Telefonos:</label>
					<div class="form-group">
					  <input type="text" name="telefono" class="form-control" id="validationDefault07" placeholder="Ingresar Telefono(Opcional) Aqui *" value="${todo.Telefonos[0]}" required>
					</div>
					<div class="form-group">
						<input type="text" name="telefono" class="form-control" id="validationDefault07" placeholder="Ingresar Telefono(Opcional) Aqui *" value="${todo.Telefonos[1]}" required>
					</div>
					<label class="text-control" for="validationDefault08">Horario:</label>
					<div class="form-group">
					  <input type="text" name="horario" class="form-control" id="validationDefault08" placeholder="Ingresar Horario Aqui *" value="${todo.Horarios}" required>
					</div>
					<br>
					<hr>
					<br>
					<h3>Rutas:</h3>
					<br>
					<div class="row g-3 align-items-center">
						<div class="col-auto">
							<a id="boton link" target="_blank"  class="form-control btn btn-primary" href='https://www.google.com.bo/maps'"> 
								<h6>Entrar a Google Maps</h6>
						   </a>
						   </div>
						   <div class="col-auto">
							<span id="passwordHelpInline" class="form-text">
								Usa este link para copiar y cambiar las cordenadas de la lista
							</span>
						  </div>
						  <div class="col-auto"></div>
					</div>
				   <br>
				   <h3>Ruta Ida</h3>
				   <br>
					<div class="form-group">
						<div class="input-group mb-3">
							<span class="input-group-text" id="sentido">Sentido</span>
							<input type="text" name="ruta1" class="form-control" aria-describedby="sentido" id="validationDefault09" placeholder="Ingresar el sentido ruta de ida aqui" value="${todo.Rutas[0].Sentido}" required>
							
						</div>
						<div class="form-text">Añade un sentido de ruta como: NORTE-SUR.</div>
						<br>
						<input type="hidden" name="color1" value="rojo">
						<div id="cantidadIda">
					
						</div>
						<div id="cantPuntosIda1">
					
						</div>
						<div id="cantPuntosIda2">
					
				        </div>
					</div>
					
					<br>
					<hr>
					<br>
					<h3>Ruta Vuelta</h3>
					<br>
					<div class="form-group">
						<div class="input-group mb-3">
							<span class="input-group-text" id="sentido">Sentido</span>
							<input type="text" name="ruta2" aria-describedby="sentido" class="form-control" id="validationDefault10" placeholder="Ingresar el sentido ruta de vuelta aqui" value="${todo.Rutas[1].Sentido}" required>
							
						</div>
						<div class="form-text">Añade un sentido de ruta contrario a la ruta de ida como: SUR-NORTE.</div>
						<br>
						<input type="hidden" name="color2" value="azul">
						<div id="cantidadVuelta">
					
						</div>
						<div id="cantPuntosVuelta1">
					
						</div>
						<div id="cantPuntosVuelta2">
					
			        	</div>
					</div>
					
					
					<br />
				<input class="btnSubmit" type="submit" value="Modificar">
			</form>
				 `;
				
					if(cantIda>0 && auxIda>0){
					for (let index = 0; index < auxIda; index++) {
						document.querySelector('#cantPuntosIda1').replaceWith += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat1">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat1" id="lat1" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[0].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng1">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng1" name="lng1" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[0].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;			
					}
					
				}
				if(cantIda> auxIda){
					for (let index = auxIda; index < cantIda; index++) {
						document.querySelector('#cantPuntosIda2').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat1">Latitud ${index+1}</span>
										<input type="text" class="form-control" name="lat1" id="lat1" placeholder="Ingrese la latitud ${index+1}" value="" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng1">Longitud ${index+1}</span>
										<input type="text" class="form-control" id="lng1" name="lng1" placeholder="Ingrese la longitud ${index+1}" value="" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;			
					}
				}
                if(cantVuelta>0 && auxVuelta>0){
					for (let index = 0; index < auxVuelta; index++) {
						document.querySelector('#cantPuntosVuelta1').replaceWith += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat2">Latitud ${index}</span>
										<input type="text" class="form-control" name="lat2" id="lat2" placeholder="Ingrese la latitud ${index}" value="${todo.Rutas[1].Puntos[index].lat}" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng2">Longitud ${index}</span>
										<input type="text" class="form-control" id="lng2" name="lng2" placeholder="Ingrese la longitud ${index}" value="${todo.Rutas[1].Puntos[index].lng}" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;			
					}
					
			}
			if(cantVuelta>auxVuelta){
				for (let index = auxVuelta; index < cantVuelta; index++) {
						document.querySelector('#cantPuntosVuelta2').innerHTML += `
					<div class="row g-3 align-items-center">
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lat2">Latitud ${index+1}</span>
										<input type="text" class="form-control" name="lat2" id="lat2" placeholder="Ingrese la latitud ${index+1}" value="" aria-label="Latitud" aria-describedby="lat" required>
									</div>
						
								</div>
								<div class="col-auto">
									<div class="input-group mb-3">
										<span class="input-group-text" id="lng2">Longitud ${index+1}</span>
										<input type="text" class="form-control" id="lng2" name="lng2" placeholder="Ingrese la longitud ${index+1}" value="" aria-label="Longitud" aria-describedby="lng" required>
									</div>
								</div>
					</div>
				`;		
					
				}
			}
			alert(cantIda)
				 document.querySelector('#cantidadIda').innerHTML = `
				    <input type="hidden" name="cantIda" value="${cantIda}">
				    `;
					alert(cantVuelta)
			    	document.querySelector('#cantidadVuelta').innerHTML = `
				    <input type="hidden" name="cantVuelta" value="${cantVuelta}">
				    `;
					var btn = document.getElementById('btnLoadLines');
		        var inputIda = document.getElementById('cantidadPunto1');
		        var inputVuelta = document.getElementById('cantidadPunto2');
				inputIda.disabled=true;
		        inputVuelta.disabled=true;
		        btn.disabled=true;
            }
			function goBack() {
               window.history.back();
            }
			GenerarListadeLineas();
				var form = document.getElementById("formPrincipal");
    form.onsubmit = function() {
		var telefono = document.getElementById("tel1").value;
	var telefonoOpcional = document.getElementById("tel2").value;
	var z = document.getElementById("lat1").value;
	var x = document.getElementById("lat2").value;
	var c = document.getElementById("lng1").value;
	var v = document.getElementById("lng2").value;
	var status = true;
		if(telefonoOpcional.value=="" || telefonoOpcional.value==null){
			if(typeof telefono == 'number' && telefono.length<7 ||telefono.length>14){
			   alert("El telefono esta fuera del rango de caracteres establecido 7-14");
			   return false;
		    }
			if(isNaN(telefono)){
				alert("El campo de telefono debe contener solo caractes numericos");
				return false;

			}
		}
		else{
			if(telefono.length<7 ||telefono.length>14){
			   alert("El telefono esta fuera del rango de caracteres establecido 7-14");
			   return false;
		    }
			if(isNaN(telefono)){
				alert("El campo de telefono debe contener solo caractes numericos");
				return false;

			}
			if(telefonoOpcional.length<7 ||telefonoOpcional.length>14){
			   alert("El telefono esta fuera del rango de caracteres establecido 7-14");
			   return false;
		    }
			if(isNaN(telefonoOpcional)){
				alert("El campo de telefono debe contener solo caractes numericos");
				return false;
			}
		}
		
		if(isNaN(Math.abs(z)))
        {
        alert("Por favor solo ingrese caracteres numericos en los campos de latitud");
		return false;
        }
		if(isNaN(Math.abs(x)))
        {
        alert("Por favor solo ingrese caracteres numericos en los campos de latitud");
		return false;
        }
		if(isNaN(Math.abs(c)))
        {
        alert("Por favor solo ingrese caracteres numericos en los campos de longitud");
		return false;
        }
		if(isNaN(Math.abs(v)))
        {
        alert("Por favor solo ingrese caracteres numericos en los campos de longitud");
		return false;
        }
	return true;
    }
			</script>